<!DOCTYPE html>
<html>
<head>
    <title>MQTT Web Client</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mqtt/4.2.6/mqtt.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="js/script.js" defer></script>
</head>
<body>
    <h1>MQTT Web Client</h1>
    <div>
        <label for="brokerUrl">Broker URL:</label>
        <input type="text" id="brokerUrl"><br>
        
        <label for="username">Username:</label>
        <input type="text" id="username"><br>
        
        <label for="password">Password:</label>
        <input type="password" id="password"><br>
        
        <label for="subscribeTopic">Subscribe Topic:</label>
        <input type="text" id="subscribeTopic"><br>
        
        <button onclick="connectMQTT()">Connect</button>
        <button onclick="clearLocalStorage()">Clear Local Storage</button>
    </div>
    <hr>
    <div>
        <label for="publishTopic">Publish Topic:</label>
        <input type="text" id="publishTopic"><br>
        
        <label for="message">Message:</label>
        <input type="text" id="message"><br>
        
        <button onclick="sendMessage()">Send Message</button>
    </div>
    <hr>
    <div id="messages">
        <h2>Received Messages:</h2>
        <ul id="messageList"></ul>
    </div>
    <hr>
    <div id="sessions">
        <h2>Sessions</h2>
        <table>
            <thead>
                <tr>
                    <th>Session ID</th>
                    <th>First Access Datetime</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="sessionTableBody">
                <!-- Session rows will be dynamically added here -->
            </tbody>
        </table>
    </div>
</body>
</html>
